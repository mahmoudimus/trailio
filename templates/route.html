{% extends 'index.html' %}

{% block title %}{{ name }}{% endblock %}
{% block meta %}
    <meta name="description" content="Detailed trekking information for {{ properties.name }}, with topographical maps, photographs and an elevation profile." />

{% endblock %}


{#{% block load_script %}#}
{#<script data-main="/static/js/route/route" src="/static/js/libs/require/require.js"></script>#}
{#{% endblock %}#}

{% block script %}
    geometry: {{geometry|tojson|safe }},
    properties: {{ properties|tojson|safe }},
    type : {{ type|tojson|safe }}
{% endblock %}

{% block body %}
        <div id="route_header">
            <div id="page_name">
                <h1>
                    <small>
                    {{ properties.name }}
                    </small>
                </h1>
            </div>
        </div>

        <ul class="nav nav-pills nav-stacked pull-right" style="padding:5px">
            <li><a data-toggle = "tab" id = "view_map"><i class="icon-map-marker"></i>View Map</a></li>
            <li><a data-toggle = "tab" id = "view_elevation"><i class="icon-bar-chart"></i>Elevation Profile</a></li>
            <li data-original-title=""><a data-toggle = "tab" id = "view_photo"><i class="icon-camera-retro"></i>Add Photo</a></li>
{#            <li ><a data-toggle = "tab"><i class="icon-print"></i>Print Guide</a></li>#}
            <li><a data-toggle = "tab" id = "save_route"><i class="icon-facebook"></i>Save Trail</a></li>
            <hr>

            <li id="distance" class="metric">
                <a style="line-height:25px">
                    <span class="label">Distance</span>
                    <br>
                    <span id="dis_val">{{ properties.distance / 1000 }}</span>
                    <span style="font-size: 85%" id="dis_unit"> Kilometers</span>
                </a>
            </li>
{#            <li id="elevation" class="metric">#}
{#                <a style="line-height:25px">#}
{#                    <span class="label">Elevation Gain</span>#}
{#                    <br>#}
{#                    <span id="el_val">{{route.elevation_gain}}</span>#}
{#                    <span style="font-size: 85%" id="el_unit"> Meters</span>#}
{#                </a>#}
{#            </li>#}
        </ul>
        <div class="tab-content" style="min-height:400px">

        </div>
{#    </div>#}
    <div class="row-fluid">
    <div id="contrib_carousel" class="carousel slide pull-left span12" data-interval="false">
        <ol class="carousel-indicators">
            {% for item in properties.photos %}
                <li data-target="#contrib_carousel" data-slide-to="{{ loop.index0 }}" {% if loop.first %}class="active"{% endif %}></li>
            {% endfor %}
        </ol>

        <div class="carousel-inner" style="height:400px">


            {% for item in properties.photos%}

            <div class="item {% if loop.first %}active{% endif %}" id="jid+{{ item.jid }}" style="height:400px">
            <img style="width:100%" src="{{ item.medium }}">
                <div class="carousel-caption-mouse">
                    <div class="carousel-caption" style="display:none">
                    <p style="font-size:16px">{{ item.text }}</p>
                        <span class="rating pull-right">
                            <span class="star {% if item.voted %}voted{% endif %}"></span>
                        </span>
                    </div>
                </div>
            </div>

            {% endfor %}

        </div>

        <a class="carousel-control left" style="display:none" href="#contrib_carousel" data-slide="prev" data-bypass>&lsaquo;</a>
        <a class="carousel-control right" style="display:none" href="#contrib_carousel" data-slide="next" data-bypass>&rsaquo;</a>
    </div>
    </div>
{% endblock %}

